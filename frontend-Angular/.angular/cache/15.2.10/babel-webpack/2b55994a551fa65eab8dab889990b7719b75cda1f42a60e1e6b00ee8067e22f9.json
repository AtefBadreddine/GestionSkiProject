{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListCoursComponent = class ListCoursComponent {\n  constructor(coursService, router) {\n    this.coursService = coursService;\n    this.router = router;\n    this.listCours = [];\n  }\n  ngOnInit() {\n    this.coursService.getAllCours().subscribe(res => {\n      this.listCours = res;\n    }, error => {\n      console.error('Error fetching cours:', error);\n    });\n  }\n  deleteCours(id) {\n    this.coursService.deleteCours(id).subscribe(res => {\n      if (res.status === 200) {\n        this.listCours = this.listCours.filter(cours => cours.numCours !== id);\n        // Refresh the current route\n        this.router.navigate([this.router.url]);\n      }\n    }, error => {\n      console.error('Error deleting cours:', error);\n    });\n  }\n  openDeleteModal(coursId) {\n    const modal = document.getElementById(`popup${coursId}`);\n    if (modal) {\n      modal.classList.remove('hidden');\n    }\n  }\n  closeDeleteModal(coursId) {\n    const modal = document.getElementById(`popup${coursId}`);\n    if (modal) {\n      modal.classList.add('hidden');\n    }\n  }\n};\nListCoursComponent = __decorate([Component({\n  selector: 'app-list-cours',\n  templateUrl: './list-cours.component.html',\n  styleUrls: ['./list-cours.component.scss']\n})], ListCoursComponent);\nexport { ListCoursComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAI7BC,YAAoBC,YAA0B,EAAUC,MAAc;IAAlD,iBAAY,GAAZD,YAAY;IAAwB,WAAM,GAANC,MAAM;IAF9D,cAAS,GAAY,EAAE;EAEkD;EAEzEC,QAAQ;IACN,IAAI,CAACF,YAAY,CAACG,WAAW,EAAE,CAACC,SAAS,CACtCC,GAAY,IAAI;MACf,IAAI,CAACC,SAAS,GAAGD,GAAG;IACtB,CAAC,EACAE,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CACF;EACH;EAEAE,WAAW,CAACC,EAAU;IACpB,IAAI,CAACV,YAAY,CAACS,WAAW,CAACC,EAAE,CAAC,CAACN,SAAS,CACxCC,GAAG,IAAI;MACN,IAAIA,GAAG,CAACM,MAAM,KAAK,GAAG,EAAE;QACtB,IAAI,CAACL,SAAS,GAAG,IAAI,CAACA,SAAS,CAACM,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,QAAQ,KAAKJ,EAAE,CAAC;QACtE;QACA,IAAI,CAACT,MAAM,CAACc,QAAQ,CAAC,CAAC,IAAI,CAACd,MAAM,CAACe,GAAG,CAAC,CAAC;;IAE3C,CAAC,EACAT,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CACF;EACH;EAEAU,eAAe,CAACC,OAAe;IAC7B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQH,OAAO,EAAE,CAAC;IACxD,IAAIC,KAAK,EAAE;MACTA,KAAK,CAACG,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;;EAEpC;EAEAC,gBAAgB,CAACN,OAAe;IAC9B,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQH,OAAO,EAAE,CAAC;IACxD,IAAIC,KAAK,EAAE;MACTA,KAAK,CAACG,SAAS,CAACG,GAAG,CAAC,QAAQ,CAAC;;EAEjC;CACD;AA7CY3B,kBAAkB,eAL9BD,SAAS,CAAC;EACT6B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACW9B,kBAAkB,CA6C9B;SA7CYA,kBAAkB","names":["Component","ListCoursComponent","constructor","coursService","router","ngOnInit","getAllCours","subscribe","res","listCours","error","console","deleteCours","id","status","filter","cours","numCours","navigate","url","openDeleteModal","coursId","modal","document","getElementById","classList","remove","closeDeleteModal","add","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\zoghl\\Desktop\\gestionski final\\GestionSkiProject\\frontend-Angular\\src\\app\\cours\\components\\list-cours\\list-cours.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CoursService } from \"../../../services/cours.service\";\r\nimport { Cours } from \"../../../models/cours\";\r\nimport { Router } from '@angular/router'; // Import the Router\r\n\r\n@Component({\r\n  selector: 'app-list-cours',\r\n  templateUrl: './list-cours.component.html',\r\n  styleUrls: ['./list-cours.component.scss']\r\n})\r\nexport class ListCoursComponent implements OnInit {\r\n\r\n  listCours: Cours[] = [];\r\n\r\n  constructor(private coursService: CoursService, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    this.coursService.getAllCours().subscribe(\r\n      (res: Cours[]) => {\r\n        this.listCours = res;\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching cours:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  deleteCours(id: number) {\r\n    this.coursService.deleteCours(id).subscribe(\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          this.listCours = this.listCours.filter(cours => cours.numCours !== id);\r\n          // Refresh the current route\r\n          this.router.navigate([this.router.url]);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error deleting cours:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  openDeleteModal(coursId: number) {\r\n    const modal = document.getElementById(`popup${coursId}`);\r\n    if (modal) {\r\n      modal.classList.remove('hidden');\r\n    }\r\n  }\r\n\r\n  closeDeleteModal(coursId: number) {\r\n    const modal = document.getElementById(`popup${coursId}`);\r\n    if (modal) {\r\n      modal.classList.add('hidden');\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}